---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "meraki_networks_appliance_traffic_shaping_uplink_selection Resource - terraform-provider-meraki"
subcategory: "appliance"
description: |-
  
---

# meraki_networks_appliance_traffic_shaping_uplink_selection (Resource)



## Example Usage

```terraform
resource "meraki_networks_appliance_traffic_shaping_uplink_selection" "example" {

  active_active_auto_vpn_enabled = true
  default_uplink                 = "wan1"
  failover_and_failback = {

    immediate = {

      enabled = true
    }
  }
  load_balancing_enabled = true
  network_id             = "string"
  vpn_traffic_uplink_preferences = [{

    fail_over_criterion = "poorPerformance"
    performance_class = {

      builtin_performance_class_name = "VoIP"
      custom_performance_class_id    = "123456"
      type                           = "custom"
    }
    preferred_uplink = "bestForVoIP"
    traffic_filters = [{

      type = "applicationCategory"
      value = {

        destination = {

          cidr    = "any"
          fqdn    = "www.google.com"
          host    = 254
          network = "L_12345678"
          port    = "1-1024"
          vlan    = 10
        }
        id       = "meraki:layer7/category/1"
        protocol = "tcp"
        source = {

          cidr    = "192.168.1.0/24"
          host    = 200
          network = "L_23456789"
          port    = "any"
          vlan    = 20
        }
      }
    }]
  }]
  wan_traffic_uplink_preferences = [{

    preferred_uplink = "wan1"
    traffic_filters = [{

      type = "custom"
      value = {

        destination = {

          cidr = "any"
          port = "any"
        }
        protocol = "tcp"
        source = {

          cidr = "192.168.1.0/24"
          host = 254
          port = "1-1024"
          vlan = 10
        }
      }
    }]
  }]
}

output "meraki_networks_appliance_traffic_shaping_uplink_selection_example" {
  value = meraki_networks_appliance_traffic_shaping_uplink_selection.example
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `network_id` (String) networkId path parameter. Network ID

### Optional

- `active_active_auto_vpn_enabled` (Boolean) Whether active-active AutoVPN is enabled
- `default_uplink` (String) The default uplink. Must be one of: 'wan1' or 'wan2'
                                  Allowed values: [wan1,wan2]
- `failover_and_failback` (Attributes) WAN failover and failback (see [below for nested schema](#nestedatt--failover_and_failback))
- `load_balancing_enabled` (Boolean) Whether load balancing is enabled
- `vpn_traffic_uplink_preferences` (Attributes Set) Uplink preference rules for VPN traffic (see [below for nested schema](#nestedatt--vpn_traffic_uplink_preferences))
- `wan_traffic_uplink_preferences` (Attributes Set) Uplink preference rules for WAN traffic (see [below for nested schema](#nestedatt--wan_traffic_uplink_preferences))

<a id="nestedatt--failover_and_failback"></a>
### Nested Schema for `failover_and_failback`

Optional:

- `immediate` (Attributes) Immediate WAN failover and failback (see [below for nested schema](#nestedatt--failover_and_failback--immediate))

<a id="nestedatt--failover_and_failback--immediate"></a>
### Nested Schema for `failover_and_failback.immediate`

Optional:

- `enabled` (Boolean) Whether immediate WAN failover and failback is enabled



<a id="nestedatt--vpn_traffic_uplink_preferences"></a>
### Nested Schema for `vpn_traffic_uplink_preferences`

Optional:

- `fail_over_criterion` (String) Fail over criterion for uplink preference rule. Must be one of: 'poorPerformance' or 'uplinkDown'
                                        Allowed values: [poorPerformance,uplinkDown]
- `performance_class` (Attributes) Performance class setting for uplink preference rule (see [below for nested schema](#nestedatt--vpn_traffic_uplink_preferences--performance_class))
- `preferred_uplink` (String) Preferred uplink for uplink preference rule. Must be one of: 'wan1', 'wan2', 'bestForVoIP', 'loadBalancing' or 'defaultUplink'
                                        Allowed values: [bestForVoIP,defaultUplink,loadBalancing,wan1,wan2]
- `traffic_filters` (Attributes Set) Traffic filters (see [below for nested schema](#nestedatt--vpn_traffic_uplink_preferences--traffic_filters))

<a id="nestedatt--vpn_traffic_uplink_preferences--performance_class"></a>
### Nested Schema for `vpn_traffic_uplink_preferences.performance_class`

Optional:

- `builtin_performance_class_name` (String) Name of builtin performance class. Must be present when performanceClass type is 'builtin' and value must be one of: 'VoIP'
                                              Allowed values: [VoIP]
- `custom_performance_class_id` (String) ID of created custom performance class, must be present when performanceClass type is "custom"
- `type` (String) Type of this performance class. Must be one of: 'builtin' or 'custom'
                                              Allowed values: [builtin,custom]


<a id="nestedatt--vpn_traffic_uplink_preferences--traffic_filters"></a>
### Nested Schema for `vpn_traffic_uplink_preferences.traffic_filters`

Optional:

- `type` (String) Traffic filter type. Must be one of: 'applicationCategory', 'application' or 'custom'
                                              Allowed values: [application,applicationCategory,custom]
- `value` (Attributes) Value of traffic filter (see [below for nested schema](#nestedatt--vpn_traffic_uplink_preferences--traffic_filters--value))

<a id="nestedatt--vpn_traffic_uplink_preferences--traffic_filters--value"></a>
### Nested Schema for `vpn_traffic_uplink_preferences.traffic_filters.value`

Optional:

- `destination` (Attributes) Destination of 'custom' type traffic filter (see [below for nested schema](#nestedatt--vpn_traffic_uplink_preferences--traffic_filters--value--destination))
- `id` (String) ID of 'applicationCategory' or 'application' type traffic filter
- `protocol` (String) Protocol of 'custom' type traffic filter. Must be one of: 'tcp', 'udp', 'icmp', 'icmp6' or 'any'
                                                    Allowed values: [any,icmp,icmp6,tcp,udp]
- `source` (Attributes) Source of 'custom' type traffic filter (see [below for nested schema](#nestedatt--vpn_traffic_uplink_preferences--traffic_filters--value--source))

<a id="nestedatt--vpn_traffic_uplink_preferences--traffic_filters--value--destination"></a>
### Nested Schema for `vpn_traffic_uplink_preferences.traffic_filters.value.destination`

Optional:

- `cidr` (String) CIDR format address (e.g."192.168.10.1", which is the same as "192.168.10.1/32"), or "any". Cannot be used in combination with the "vlan" or "fqdn" property
- `fqdn` (String) FQDN format address. Cannot be used in combination with the "cidr" or "fqdn" property and is currently only available in the "destination" object of the "vpnTrafficUplinkPreference" object. E.g.: "www.google.com"
- `host` (Number) Host ID in the VLAN. Should not exceed the VLAN subnet capacity. Must be used along with the "vlan" property and is currently only available under a template network.
- `network` (String) Meraki network ID. Currently only available under a template network, and the value should be ID of either same template network, or another template network currently. E.g.: "L_12345678".
- `port` (String) E.g.: "any", "0" (also means "any"), "8080", "1-1024"
- `vlan` (Number) VLAN ID of the configured VLAN in the Meraki network. Cannot be used in combination with the "cidr" or "fqdn" property and is currently only available under a template network.


<a id="nestedatt--vpn_traffic_uplink_preferences--traffic_filters--value--source"></a>
### Nested Schema for `vpn_traffic_uplink_preferences.traffic_filters.value.source`

Optional:

- `cidr` (String) CIDR format address (e.g."192.168.10.1", which is the same as "192.168.10.1/32"), or "any". Cannot be used in combination with the "vlan" property
- `host` (Number) Host ID in the VLAN. Should not exceed the VLAN subnet capacity. Must be used along with the "vlan" property and is currently only available under a template network.
- `network` (String) Meraki network ID. Currently only available under a template network, and the value should be ID of either same template network, or another template network currently. E.g.: "L_12345678".
- `port` (String) E.g.: "any", "0" (also means "any"), "8080", "1-1024"
- `vlan` (Number) VLAN ID of the configured VLAN in the Meraki network. Cannot be used in combination with the "cidr" property and is currently only available under a template network.





<a id="nestedatt--wan_traffic_uplink_preferences"></a>
### Nested Schema for `wan_traffic_uplink_preferences`

Optional:

- `preferred_uplink` (String) Preferred uplink for uplink preference rule. Must be one of: 'wan1' or 'wan2'
                                        Allowed values: [wan1,wan2]
- `traffic_filters` (Attributes Set) Traffic filters (see [below for nested schema](#nestedatt--wan_traffic_uplink_preferences--traffic_filters))

<a id="nestedatt--wan_traffic_uplink_preferences--traffic_filters"></a>
### Nested Schema for `wan_traffic_uplink_preferences.traffic_filters`

Optional:

- `type` (String) Traffic filter type. Must be "custom"
                                              Allowed values: [custom]
- `value` (Attributes) Value of traffic filter (see [below for nested schema](#nestedatt--wan_traffic_uplink_preferences--traffic_filters--value))

<a id="nestedatt--wan_traffic_uplink_preferences--traffic_filters--value"></a>
### Nested Schema for `wan_traffic_uplink_preferences.traffic_filters.value`

Optional:

- `destination` (Attributes) Destination of 'custom' type traffic filter (see [below for nested schema](#nestedatt--wan_traffic_uplink_preferences--traffic_filters--value--destination))
- `protocol` (String) Protocol of 'custom' type traffic filter. Must be one of: 'tcp', 'udp', 'icmp6' or 'any'
                                                    Allowed values: [any,icmp6,tcp,udp]
- `source` (Attributes) Source of 'custom' type traffic filter (see [below for nested schema](#nestedatt--wan_traffic_uplink_preferences--traffic_filters--value--source))

<a id="nestedatt--wan_traffic_uplink_preferences--traffic_filters--value--destination"></a>
### Nested Schema for `wan_traffic_uplink_preferences.traffic_filters.value.destination`

Optional:

- `cidr` (String) CIDR format address (e.g."192.168.10.1", which is the same as "192.168.10.1/32"), or "any"
- `port` (String) E.g.: "any", "0" (also means "any"), "8080", "1-1024"

Read-Only:

- `applications` (Attributes Set) list of application objects (either majorApplication or nbar) (see [below for nested schema](#nestedatt--wan_traffic_uplink_preferences--traffic_filters--value--destination--applications))

<a id="nestedatt--wan_traffic_uplink_preferences--traffic_filters--value--destination--applications"></a>
### Nested Schema for `wan_traffic_uplink_preferences.traffic_filters.value.destination.applications`

Read-Only:

- `id` (String) Id of the major application, or a list of NBAR Application Category or Application selections
- `name` (String) Name of the major application or application category selected
- `type` (String) app type (major or nbar)



<a id="nestedatt--wan_traffic_uplink_preferences--traffic_filters--value--source"></a>
### Nested Schema for `wan_traffic_uplink_preferences.traffic_filters.value.source`

Optional:

- `cidr` (String) CIDR format address (e.g."192.168.10.1", which is the same as "192.168.10.1/32"), or "any". Cannot be used in combination with the "vlan" property
- `host` (Number) Host ID in the VLAN. Should not exceed the VLAN subnet capacity. Must be used along with the "vlan" property and is currently only available under a template network.
- `port` (String) E.g.: "any", "0" (also means "any"), "8080", "1-1024"
- `vlan` (Number) VLAN ID of the configured VLAN in the Meraki network. Cannot be used in combination with the "cidr" property and is currently only available under a template network.

## Import

Import is supported using the following syntax:

```shell
terraform import meraki_networks_appliance_traffic_shaping_uplink_selection.example "network_id"
```
